clamp = function(x, min_val, max_val)
  max(min(x, max_val), min_val);
